<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 R programming basics II | R 프로그래밍과 데이터 분석</title>
  <meta name="description" content="UST lecture web site" />
  <meta name="generator" content="bookdown 0.16.5 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 R programming basics II | R 프로그래밍과 데이터 분석" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="UST lecture web site" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 R programming basics II | R 프로그래밍과 데이터 분석" />
  
  <meta name="twitter:description" content="UST lecture web site" />
  

<meta name="author" content="한국생명공학연구원 김하성" />


<meta name="date" content="2020-03-25" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="r-programming-basics-i.html"/>

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">[2020 UST Lecture] R programming</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction 강의 개요</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#goal-강의-목표"><i class="fa fa-check"></i><b>1.1</b> Goal 강의 목표</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#this-course"><i class="fa fa-check"></i><b>1.2</b> This course</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#tips"><i class="fa fa-check"></i><b>1.3</b> Tips</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#references-books-참고-교제"><i class="fa fa-check"></i><b>1.4</b> References books 참고 교제</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#references-참고-자료"><i class="fa fa-check"></i><b>1.5</b> References 참고 자료</a></li>
<li class="chapter" data-level="1.6" data-path="index.html"><a href="index.html#evaluation-평가-세부-항목"><i class="fa fa-check"></i><b>1.6</b> Evaluation 평가 세부 항목</a></li>
<li class="chapter" data-level="1.7" data-path="index.html"><a href="index.html#schedule-강의-계획"><i class="fa fa-check"></i><b>1.7</b> Schedule 강의 계획</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="r-basics.html"><a href="r-basics.html"><i class="fa fa-check"></i><b>2</b> R basics</a>
<ul>
<li class="chapter" data-level="2.1" data-path="r-basics.html"><a href="r-basics.html#what-is-r-rstudio"><i class="fa fa-check"></i><b>2.1</b> What is R / Rstudio</a></li>
<li class="chapter" data-level="2.2" data-path="r-basics.html"><a href="r-basics.html#r-rstudio-installation"><i class="fa fa-check"></i><b>2.2</b> R / Rstudio installation</a></li>
<li class="chapter" data-level="2.3" data-path="r-basics.html"><a href="r-basics.html#rstudio-interface"><i class="fa fa-check"></i><b>2.3</b> Rstudio interface</a></li>
<li class="chapter" data-level="2.4" data-path="r-basics.html"><a href="r-basics.html#keyboard-shortcuts"><i class="fa fa-check"></i><b>2.4</b> Keyboard shortcuts</a></li>
<li class="chapter" data-level="2.5" data-path="r-basics.html"><a href="r-basics.html#set-working-directory"><i class="fa fa-check"></i><b>2.5</b> Set working directory</a></li>
<li class="chapter" data-level="2.6" data-path="r-basics.html"><a href="r-basics.html#hello-world"><i class="fa fa-check"></i><b>2.6</b> Hello world</a></li>
<li class="chapter" data-level="2.7" data-path="r-basics.html"><a href="r-basics.html#help"><i class="fa fa-check"></i><b>2.7</b> Help</a></li>
<li class="chapter" data-level="2.8" data-path="r-basics.html"><a href="r-basics.html#rstudio-workspace"><i class="fa fa-check"></i><b>2.8</b> RStudio workspace</a></li>
<li class="chapter" data-level="2.9" data-path="r-basics.html"><a href="r-basics.html#r-packages"><i class="fa fa-check"></i><b>2.9</b> R packages</a></li>
<li class="chapter" data-level="2.10" data-path="r-basics.html"><a href="r-basics.html#data-sets"><i class="fa fa-check"></i><b>2.10</b> Data sets</a></li>
<li class="chapter" data-level="2.11" data-path="r-basics.html"><a href="r-basics.html#cheatsheet"><i class="fa fa-check"></i><b>2.11</b> Cheatsheet</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="r-programming-basics-i.html"><a href="r-programming-basics-i.html"><i class="fa fa-check"></i><b>3</b> R programming basics I</a>
<ul>
<li class="chapter" data-level="3.1" data-path="r-programming-basics-i.html"><a href="r-programming-basics-i.html#terminology"><i class="fa fa-check"></i><b>3.1</b> Terminology</a></li>
<li class="chapter" data-level="3.2" data-path="r-programming-basics-i.html"><a href="r-programming-basics-i.html#r-console-script"><i class="fa fa-check"></i><b>3.2</b> R console script</a></li>
<li class="chapter" data-level="3.3" data-path="r-programming-basics-i.html"><a href="r-programming-basics-i.html#what-is-a-programming-language"><i class="fa fa-check"></i><b>3.3</b> What is a programming language</a></li>
<li class="chapter" data-level="3.4" data-path="r-programming-basics-i.html"><a href="r-programming-basics-i.html#variables-and-values"><i class="fa fa-check"></i><b>3.4</b> Variables and values</a></li>
<li class="chapter" data-level="3.5" data-path="r-programming-basics-i.html"><a href="r-programming-basics-i.html#variable-type-of-storage-mode"><i class="fa fa-check"></i><b>3.5</b> Variable type of (storage) mode</a></li>
<li class="chapter" data-level="3.6" data-path="r-programming-basics-i.html"><a href="r-programming-basics-i.html#variable---vectors"><i class="fa fa-check"></i><b>3.6</b> Variable - Vectors</a></li>
<li class="chapter" data-level="3.7" data-path="r-programming-basics-i.html"><a href="r-programming-basics-i.html#functions"><i class="fa fa-check"></i><b>3.7</b> Functions</a></li>
<li class="chapter" data-level="3.8" data-path="r-programming-basics-i.html"><a href="r-programming-basics-i.html#vectorized-functions"><i class="fa fa-check"></i><b>3.8</b> Vectorized functions</a></li>
<li class="chapter" data-level="3.9" data-path="r-programming-basics-i.html"><a href="r-programming-basics-i.html#exercise-3-1"><i class="fa fa-check"></i><b>3.9</b> Exercise 3-1</a></li>
<li class="chapter" data-level="3.10" data-path="r-programming-basics-i.html"><a href="r-programming-basics-i.html#excercise-3-2"><i class="fa fa-check"></i><b>3.10</b> Excercise 3-2</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="r-programming-basics-ii.html"><a href="r-programming-basics-ii.html"><i class="fa fa-check"></i><b>4</b> R programming basics II</a>
<ul>
<li class="chapter" data-level="4.1" data-path="r-programming-basics-ii.html"><a href="r-programming-basics-ii.html#matrix-행렬"><i class="fa fa-check"></i><b>4.1</b> matrix (행렬)</a></li>
<li class="chapter" data-level="4.2" data-path="r-programming-basics-ii.html"><a href="r-programming-basics-ii.html#data.frame"><i class="fa fa-check"></i><b>4.2</b> data.frame</a></li>
<li class="chapter" data-level="4.3" data-path="r-programming-basics-ii.html"><a href="r-programming-basics-ii.html#list"><i class="fa fa-check"></i><b>4.3</b> list</a></li>
<li class="chapter" data-level="4.4" data-path="r-programming-basics-ii.html"><a href="r-programming-basics-ii.html#file-읽기쓰기"><i class="fa fa-check"></i><b>4.4</b> File 읽기/쓰기</a></li>
<li class="chapter" data-level="4.5" data-path="r-programming-basics-ii.html"><a href="r-programming-basics-ii.html#excel-file-읽기쓰기"><i class="fa fa-check"></i><b>4.5</b> Excel file 읽기/쓰기</a></li>
<li class="chapter" data-level="4.6" data-path="r-programming-basics-ii.html"><a href="r-programming-basics-ii.html#exercise-3-2-standard-deviation"><i class="fa fa-check"></i><b>4.6</b> Exercise 3-2 standard deviation</a></li>
<li class="chapter" data-level="4.7" data-path="r-programming-basics-ii.html"><a href="r-programming-basics-ii.html#exercise-3-3-barplot-with-error-bars"><i class="fa fa-check"></i><b>4.7</b> Exercise 3-3 barplot with error bars</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R 프로그래밍과 데이터 분석</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="r-programming-basics-ii" class="section level1">
<h1><span class="header-section-number">Chapter 4</span> R programming basics II</h1>
<div id="matrix-행렬" class="section level2">
<h2><span class="header-section-number">4.1</span> matrix (행렬)</h2>
<p>매트릭스는 2차원 행렬로 같은 형식의 데이터 값 (numberic, character, logical) 으로만 채워진 행렬을 말합니다. 메트릭스를 만드는 방법은 아래와 같으며 nrow와 ncol 파라메터에 행과 열의 수를 넣고 각 셀에 들어갈 값은 가장 앞에 위치한 data 파라메터에 넣어 줍니다 (?matrix로 파라메터 이름 확인). 메트릭스 인덱싱은 메트릭스 안의 값을 저장하거나 참조할때 (빼올때) 사용하는 방법입니다. 메트릭스 변수이름 바로 뒤에 대괄호를 이용해서 제어를 하며 대괄호 안에 콤마로 구분된 앞쪽은 row, 뒷쪽은 column 인덱스를 나타냅니다. row 또는 column에 해당하는 어느쪽에도 값을 넣지 않을 경우 그 row 또는 column 전체를 참조하게 됩니다.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="r-programming-basics-ii.html#cb23-1"></a>mymat &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dv">0</span>, <span class="dt">nrow=</span><span class="dv">100</span>, <span class="dt">ncol=</span><span class="dv">3</span>) <span class="co"># 1</span></span>
<span id="cb23-2"><a href="r-programming-basics-ii.html#cb23-2"></a>mymat[,<span class="dv">1</span>] &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">100</span> <span class="co"># 2</span></span>
<span id="cb23-3"><a href="r-programming-basics-ii.html#cb23-3"></a>mymat[,<span class="dv">2</span>] &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">1</span>,<span class="dv">200</span>,<span class="dv">2</span>) <span class="co"># 3</span></span>
<span id="cb23-4"><a href="r-programming-basics-ii.html#cb23-4"></a>mymat[,<span class="dv">3</span>] &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">2</span>,<span class="dv">200</span>,<span class="dv">2</span>) <span class="co"># 4</span></span></code></pre></div>
<p>여러 row나 column을 참조할 경우 아래와 같이 combine 함수를 사용하여 묶어줘야 하며 스칼라값을 더하거나 뺄 경우 vector / matrix 연산을 기본으로 수행합니다.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="r-programming-basics-ii.html#cb24-1"></a>mymat[<span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>),<span class="dv">2</span>] <span class="co"># 5</span></span>
<span id="cb24-2"><a href="r-programming-basics-ii.html#cb24-2"></a>mymat<span class="dv">-1</span> <span class="co"># 6</span></span>
<span id="cb24-3"><a href="r-programming-basics-ii.html#cb24-3"></a>mysub &lt;-<span class="st"> </span>mymat[,<span class="dv">2</span>] <span class="op">-</span><span class="st"> </span>mymat[,<span class="dv">1</span>] <span class="co">#7</span></span>
<span id="cb24-4"><a href="r-programming-basics-ii.html#cb24-4"></a><span class="kw">sum</span>(mysub) <span class="co">#8</span></span>
<span id="cb24-5"><a href="r-programming-basics-ii.html#cb24-5"></a><span class="kw">sum</span>(mysub<span class="op">^</span><span class="dv">2</span>) <span class="co">#8</span></span></code></pre></div>
</div>
<div id="data.frame" class="section level2">
<h2><span class="header-section-number">4.2</span> data.frame</h2>
<p>데이터프레임은 변수의 모임으로 형태는 매트릭스와 같으나 $ 기호를 이용하여 각 구성 변수를 참조할 수 있다는 점이 다릅니다. 또한 데이터프레임 또는 매트릭스의 row나 column에 이름이 주어져 있을 경우 이름을 따옴표(")로 묶은 후 참조가 가능합니다.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="r-programming-basics-ii.html#cb25-1"></a><span class="co">## data.frame</span></span>
<span id="cb25-2"><a href="r-programming-basics-ii.html#cb25-2"></a>ids &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span></span>
<span id="cb25-3"><a href="r-programming-basics-ii.html#cb25-3"></a>ids</span>
<span id="cb25-4"><a href="r-programming-basics-ii.html#cb25-4"></a>idnames &lt;-<span class="st"> </span><span class="kw">paste</span>(<span class="st">&quot;Name&quot;</span>, ids, <span class="dt">sep=</span><span class="st">&quot;&quot;</span>)</span>
<span id="cb25-5"><a href="r-programming-basics-ii.html#cb25-5"></a>idnames</span>
<span id="cb25-6"><a href="r-programming-basics-ii.html#cb25-6"></a>students &lt;-<span class="st"> </span><span class="kw">data.frame</span>(ids, idnames)</span>
<span id="cb25-7"><a href="r-programming-basics-ii.html#cb25-7"></a>students</span>
<span id="cb25-8"><a href="r-programming-basics-ii.html#cb25-8"></a><span class="kw">class</span>(students<span class="op">$</span>ids)</span>
<span id="cb25-9"><a href="r-programming-basics-ii.html#cb25-9"></a><span class="kw">class</span>(students<span class="op">$</span>idnames)</span>
<span id="cb25-10"><a href="r-programming-basics-ii.html#cb25-10"></a>students<span class="op">$</span>idnames</span>
<span id="cb25-11"><a href="r-programming-basics-ii.html#cb25-11"></a></span>
<span id="cb25-12"><a href="r-programming-basics-ii.html#cb25-12"></a>students &lt;-<span class="st"> </span><span class="kw">data.frame</span>(ids, idnames, <span class="dt">stringsAsFactors =</span> F)</span>
<span id="cb25-13"><a href="r-programming-basics-ii.html#cb25-13"></a><span class="kw">class</span>(students<span class="op">$</span>idnames)</span>
<span id="cb25-14"><a href="r-programming-basics-ii.html#cb25-14"></a>students<span class="op">$</span>idnames</span>
<span id="cb25-15"><a href="r-programming-basics-ii.html#cb25-15"></a>students[<span class="dv">1</span>,]</span>
<span id="cb25-16"><a href="r-programming-basics-ii.html#cb25-16"></a></span>
<span id="cb25-17"><a href="r-programming-basics-ii.html#cb25-17"></a><span class="co">## data frame indexing </span></span>
<span id="cb25-18"><a href="r-programming-basics-ii.html#cb25-18"></a>students<span class="op">$</span>ids</span>
<span id="cb25-19"><a href="r-programming-basics-ii.html#cb25-19"></a>students[,<span class="dv">1</span>]</span>
<span id="cb25-20"><a href="r-programming-basics-ii.html#cb25-20"></a>students[,<span class="st">&quot;ids&quot;</span>]</span></code></pre></div>
</div>
<div id="list" class="section level2">
<h2><span class="header-section-number">4.3</span> list</h2>
<p>리스트는 변수들의 모임이라는 점에서 데이터프레임과 같으나 구성 변수들의 길이가 모두 같아야 하는 데이터프레임과는 달리 다른 길이의 변수를 모아둘 수 있는 점이 다릅니다. 리스트는 아래와 같이 대괄호 두 겹을 이용해 인덱싱을 합니다.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="r-programming-basics-ii.html#cb26-1"></a><span class="co">## list</span></span>
<span id="cb26-2"><a href="r-programming-basics-ii.html#cb26-2"></a>parent_names &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Fred&quot;</span>, <span class="st">&quot;Mary&quot;</span>)</span>
<span id="cb26-3"><a href="r-programming-basics-ii.html#cb26-3"></a>number_of_children &lt;-<span class="st"> </span><span class="dv">2</span></span>
<span id="cb26-4"><a href="r-programming-basics-ii.html#cb26-4"></a>child_ages &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">4</span>, <span class="dv">7</span>, <span class="dv">9</span>)</span>
<span id="cb26-5"><a href="r-programming-basics-ii.html#cb26-5"></a><span class="kw">data.frame</span>(parent_names, number_of_children, child_ages)</span>
<span id="cb26-6"><a href="r-programming-basics-ii.html#cb26-6"></a>lst &lt;-<span class="st"> </span><span class="kw">list</span>(parent_names, number_of_children, child_ages)</span>
<span id="cb26-7"><a href="r-programming-basics-ii.html#cb26-7"></a>lst[<span class="dv">1</span>]</span>
<span id="cb26-8"><a href="r-programming-basics-ii.html#cb26-8"></a>lst[[<span class="dv">1</span>]]</span>
<span id="cb26-9"><a href="r-programming-basics-ii.html#cb26-9"></a><span class="kw">class</span>(lst[<span class="dv">1</span>])</span>
<span id="cb26-10"><a href="r-programming-basics-ii.html#cb26-10"></a><span class="kw">class</span>(lst[[<span class="dv">1</span>]])</span>
<span id="cb26-11"><a href="r-programming-basics-ii.html#cb26-11"></a>lst[[<span class="dv">1</span>]][<span class="dv">1</span>]</span>
<span id="cb26-12"><a href="r-programming-basics-ii.html#cb26-12"></a>lst[[<span class="dv">1</span>]][<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>)]</span></code></pre></div>
</div>
<div id="file-읽기쓰기" class="section level2">
<h2><span class="header-section-number">4.4</span> File 읽기/쓰기</h2>
<p>텍스트 파일의 경우 아래와 같이 csv 또는 txt 파일로 저장하여 메모장으로 열어 확인할 수 있으며 읽어올 경우 구분자 (sep 파라메터) 나 header를 (header 파라메터) 읽을지 읽지 않을지 등을 옵션으로 지정할 수 있습니다.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="r-programming-basics-ii.html#cb27-1"></a>x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)</span>
<span id="cb27-2"><a href="r-programming-basics-ii.html#cb27-2"></a>y &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">8</span>)</span>
<span id="cb27-3"><a href="r-programming-basics-ii.html#cb27-3"></a>xy&lt;-<span class="kw">data.frame</span>(<span class="dt">x=</span>x, <span class="dt">y=</span>y)</span>
<span id="cb27-4"><a href="r-programming-basics-ii.html#cb27-4"></a></span>
<span id="cb27-5"><a href="r-programming-basics-ii.html#cb27-5"></a><span class="kw">write.table</span>(xy, <span class="dt">file=</span><span class="st">&quot;table_write.txt&quot;</span>)</span>
<span id="cb27-6"><a href="r-programming-basics-ii.html#cb27-6"></a><span class="kw">write.table</span>(xy, <span class="dt">file=</span><span class="st">&quot;table_write.txt&quot;</span>, <span class="dt">quote=</span>F)</span>
<span id="cb27-7"><a href="r-programming-basics-ii.html#cb27-7"></a><span class="kw">write.table</span>(xy, <span class="dt">file=</span><span class="st">&quot;table_write.txt&quot;</span>, <span class="dt">quote=</span>F, <span class="dt">row.names=</span>F)</span>
<span id="cb27-8"><a href="r-programming-basics-ii.html#cb27-8"></a><span class="kw">write.table</span>(xy, <span class="dt">file=</span><span class="st">&quot;table_write.txt&quot;</span>, <span class="dt">quote=</span>F, <span class="dt">row.names=</span>F, <span class="dt">sep=</span><span class="st">&quot;,&quot;</span>)</span>
<span id="cb27-9"><a href="r-programming-basics-ii.html#cb27-9"></a><span class="kw">write.table</span>(xy, <span class="dt">file=</span><span class="st">&quot;table_write.csv&quot;</span>, <span class="dt">quote=</span>F, <span class="dt">row.names=</span>F, <span class="dt">sep=</span><span class="st">&quot;,&quot;</span>)</span>
<span id="cb27-10"><a href="r-programming-basics-ii.html#cb27-10"></a></span>
<span id="cb27-11"><a href="r-programming-basics-ii.html#cb27-11"></a>mydata&lt;-<span class="kw">read.table</span>(<span class="dt">file=</span><span class="st">&quot;table_write.csv&quot;</span>)</span>
<span id="cb27-12"><a href="r-programming-basics-ii.html#cb27-12"></a>mydata&lt;-<span class="kw">read.table</span>(<span class="dt">file=</span><span class="st">&quot;table_write.csv&quot;</span>, <span class="dt">sep=</span><span class="st">&quot;,&quot;</span>)</span>
<span id="cb27-13"><a href="r-programming-basics-ii.html#cb27-13"></a>mydata&lt;-<span class="kw">read.table</span>(<span class="dt">file=</span><span class="st">&quot;table_write.csv&quot;</span>, <span class="dt">sep=</span><span class="st">&quot;,&quot;</span>, <span class="dt">header=</span>T)</span>
<span id="cb27-14"><a href="r-programming-basics-ii.html#cb27-14"></a><span class="kw">plot</span>(mydata<span class="op">$</span>x, mydata<span class="op">$</span>z)</span></code></pre></div>
</div>
<div id="excel-file-읽기쓰기" class="section level2">
<h2><span class="header-section-number">4.5</span> Excel file 읽기/쓰기</h2>
<p>엑셀파일은 readxl 이라는 R 패키지를 활용하여 읽거나 쓸 수 있습니다.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="r-programming-basics-ii.html#cb28-1"></a><span class="kw">install.packages</span>(<span class="st">&quot;readxl&quot;</span>)</span></code></pre></div>
<p>실습 파일은 형광 세포를 배양하여 형광리더기를 이용해 얻어진 실제 데이터이며 <a href="https://github.com/greendaygh/2019-R-programming/blob/master/Rprog04-fl.xls">Rprog04-fl.xls</a> 에서 다운로드 받을 수 있습니다. read_excel 함수를 이용하여 파일의 내용을 읽어오면 기본 자료형이 tibble 입니다. tibble은 최근 많이 쓰이는 R object로 data.frame과 유사하나 입력값의 type, name, rowname을 임으로 바꿀 수 없다는 점이 다릅니다. tibble에 익숙해지는 것이 좋으나 본 강의에서는 직관적인 진행을 위하여 data.frame으로 전환하여 사용하겠습니다.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="r-programming-basics-ii.html#cb29-1"></a><span class="kw">library</span>(readxl)</span></code></pre></div>
<pre><code>## Warning: package &#39;readxl&#39; was built under R version 3.5.3</code></pre>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="r-programming-basics-ii.html#cb31-1"></a>mydata &lt;-<span class="st"> </span><span class="kw">read_excel</span>(<span class="st">&quot;Rprog04-fl.xls&quot;</span>, <span class="dt">sheet=</span><span class="dv">2</span>, <span class="dt">skip =</span> <span class="dv">6</span>, <span class="dt">col_names=</span>F)</span></code></pre></div>
<pre><code>## New names:
## * `` -&gt; ...1
## * `` -&gt; ...2
## * `` -&gt; ...3
## * `` -&gt; ...4
## * `` -&gt; ...5
## * ... and 7 more problems</code></pre>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="r-programming-basics-ii.html#cb33-1"></a>myod &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(mydata[<span class="dv">1</span><span class="op">:</span><span class="dv">8</span>, ])</span>
<span id="cb33-2"><a href="r-programming-basics-ii.html#cb33-2"></a>mygfp &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(mydata[<span class="dv">12</span><span class="op">:</span><span class="dv">21</span>, ])</span></code></pre></div>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="r-programming-basics-ii.html#cb34-1"></a><span class="kw">class</span>(myod[,<span class="dv">1</span>])</span>
<span id="cb34-2"><a href="r-programming-basics-ii.html#cb34-2"></a><span class="kw">class</span>(myod[,<span class="dv">2</span>])</span></code></pre></div>
<p>엑셀파일에는 두 종류의 (OD600nm, fluorescence) 데이터가 저장되어 있으며 각각을 위에서 1~8 row 그리고 12~21 row 값들을 모두 myod와 mygfp로 저장했습니다. 그러나 엑셀파일을 보면 첫번째 컬럼에 관측값 외에 다른 정보들에 대한 텍스트가 적혀 있으며 이로 인해 행렬의 가장 첫 컬럼의 데이터 타입이 character가 되고 나머지 컬럼은 numeric으로 자동 전환 되어 data.frame 오브젝트인 mydata에 저장되게 됩니다. 따라서 아래와 같이 문자형을 숫자형으로 전환하여 추후 연산을 진행하게 됩니다.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="r-programming-basics-ii.html#cb35-1"></a>myod[,<span class="dv">1</span>] &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(myod[,<span class="dv">1</span>])</span>
<span id="cb35-2"><a href="r-programming-basics-ii.html#cb35-2"></a>mygfp[,<span class="dv">1</span>] &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(mygfp[,<span class="dv">1</span>])</span></code></pre></div>
<p>수행한 실험의 디자인에 따라서 두 그룹으로 나누고 적절한 이름을 저장합니다.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="r-programming-basics-ii.html#cb36-1"></a>myod_treat &lt;-<span class="st"> </span>myod[<span class="dv">2</span><span class="op">:</span><span class="dv">4</span>,]</span>
<span id="cb36-2"><a href="r-programming-basics-ii.html#cb36-2"></a>myod_control &lt;-<span class="st"> </span>myod[<span class="dv">5</span><span class="op">:</span><span class="dv">7</span>,]</span>
<span id="cb36-3"><a href="r-programming-basics-ii.html#cb36-3"></a></span>
<span id="cb36-4"><a href="r-programming-basics-ii.html#cb36-4"></a>sample_names &lt;-<span class="st"> </span><span class="kw">paste</span>(<span class="st">&quot;Sample&quot;</span>, <span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">12</span>), <span class="dt">sep=</span><span class="st">&quot;&quot;</span>)</span>
<span id="cb36-5"><a href="r-programming-basics-ii.html#cb36-5"></a>replicate_labels &lt;-<span class="st"> </span><span class="kw">paste</span>(<span class="st">&quot;Rep&quot;</span>, <span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>), <span class="dt">sep=</span><span class="st">&quot;&quot;</span>)</span>
<span id="cb36-6"><a href="r-programming-basics-ii.html#cb36-6"></a></span>
<span id="cb36-7"><a href="r-programming-basics-ii.html#cb36-7"></a><span class="kw">rownames</span>(myod_treat) &lt;-<span class="st"> </span>replicate_labels</span>
<span id="cb36-8"><a href="r-programming-basics-ii.html#cb36-8"></a><span class="kw">colnames</span>(myod_treat) &lt;-<span class="st"> </span>sample_names</span>
<span id="cb36-9"><a href="r-programming-basics-ii.html#cb36-9"></a><span class="kw">rownames</span>(myod_control) &lt;-<span class="st"> </span>replicate_labels </span>
<span id="cb36-10"><a href="r-programming-basics-ii.html#cb36-10"></a><span class="kw">colnames</span>(myod_control) &lt;-<span class="st"> </span>sample_names</span>
<span id="cb36-11"><a href="r-programming-basics-ii.html#cb36-11"></a></span>
<span id="cb36-12"><a href="r-programming-basics-ii.html#cb36-12"></a>mean_treat &lt;-<span class="st"> </span><span class="kw">colMeans</span>(myod_treat)</span>
<span id="cb36-13"><a href="r-programming-basics-ii.html#cb36-13"></a>mean_control &lt;-<span class="st"> </span><span class="kw">colMeans</span>(myod_control)</span></code></pre></div>
<p>위 예제의 colMean 과 같은 함수는 column 또는 row 단위로 해당하는 모든 값들에 대해 연산을 수행해주는 함수로 colMean은 평균을 계산하는 함수이고 일반적으로는 다음과 같이 apply 함수와 mean 함수를 이용해서 같은 기능을 수행할 수 있습니다. mean 함수 외 임의의 원하는 함수를 만들어 사용할 수 도 있습니다. 참고로 sd는 표준편차를 구해주는 함수 입니다.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="r-programming-basics-ii.html#cb37-1"></a><span class="kw">apply</span>(myod_control, <span class="dv">1</span>, mean)</span></code></pre></div>
<pre><code>##      Rep1      Rep2      Rep3 
## 0.8069922 0.7706701 0.7873404</code></pre>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="r-programming-basics-ii.html#cb39-1"></a><span class="kw">apply</span>(myod_control, <span class="dv">2</span>, mean)</span></code></pre></div>
<pre><code>##   Sample1   Sample2   Sample3   Sample4   Sample5   Sample6   Sample7   Sample8 
## 0.7757480 0.7807732 0.7628736 0.7472908 0.7034527 0.6963549 0.8094640 0.8145531 
##   Sample9  Sample10  Sample11  Sample12 
## 0.8301742 0.8390556 0.8447189 0.8555517</code></pre>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="r-programming-basics-ii.html#cb41-1"></a><span class="kw">apply</span>(myod_control, <span class="dv">2</span>, <span class="cf">function</span>(x){ </span>
<span id="cb41-2"><a href="r-programming-basics-ii.html#cb41-2"></a>  xmean &lt;-<span class="st"> </span><span class="kw">mean</span>(x) </span>
<span id="cb41-3"><a href="r-programming-basics-ii.html#cb41-3"></a>  <span class="kw">return</span>(xmean)</span>
<span id="cb41-4"><a href="r-programming-basics-ii.html#cb41-4"></a>  })</span></code></pre></div>
<pre><code>##   Sample1   Sample2   Sample3   Sample4   Sample5   Sample6   Sample7   Sample8 
## 0.7757480 0.7807732 0.7628736 0.7472908 0.7034527 0.6963549 0.8094640 0.8145531 
##   Sample9  Sample10  Sample11  Sample12 
## 0.8301742 0.8390556 0.8447189 0.8555517</code></pre>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="r-programming-basics-ii.html#cb43-1"></a><span class="kw">apply</span>(myod_control, <span class="dv">2</span>, sd)</span></code></pre></div>
<pre><code>##     Sample1     Sample2     Sample3     Sample4     Sample5     Sample6 
## 0.015981356 0.023394455 0.032168135 0.034528460 0.035805916 0.014999636 
##     Sample7     Sample8     Sample9    Sample10    Sample11    Sample12 
## 0.017801936 0.017947840 0.010253370 0.006202754 0.022386592 0.012685731</code></pre>
<p>본 실습에서는 각 그룹의 평균을 비교하는 막대그래프를 그려보겠습니다.</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="r-programming-basics-ii.html#cb45-1"></a><span class="kw">plot</span>(mean_treat, <span class="dt">type=</span><span class="st">&quot;h&quot;</span>)</span></code></pre></div>
<p><img src="Rprog_files/figure-html/unnamed-chunk-35-1.png" width="672" /></p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="r-programming-basics-ii.html#cb46-1"></a><span class="kw">barplot</span>(mean_treat, <span class="dt">ylim=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">1</span>))</span></code></pre></div>
<p><img src="Rprog_files/figure-html/unnamed-chunk-35-2.png" width="672" /></p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="r-programming-basics-ii.html#cb47-1"></a>mean_test &lt;-<span class="st"> </span><span class="kw">data.frame</span>(mean_treat, mean_control)</span>
<span id="cb47-2"><a href="r-programming-basics-ii.html#cb47-2"></a><span class="kw">barplot</span>(<span class="kw">t</span>(mean_test), <span class="dt">ylim=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">1</span>), <span class="dt">beside=</span>T)</span></code></pre></div>
<p><img src="Rprog_files/figure-html/unnamed-chunk-35-3.png" width="672" /></p>
</div>
<div id="exercise-3-2-standard-deviation" class="section level2">
<h2><span class="header-section-number">4.6</span> Exercise 3-2 standard deviation</h2>
<p>앞서 사용한 sd 함수는 표준편차를 구해주는 기본 제공 함수입니다. 아래는 같은 기능을 하는 함수를 만들어 보는 실습 예제 입니다.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="r-programming-basics-ii.html#cb48-1"></a><span class="co">## excercise 3-2 </span></span>
<span id="cb48-2"><a href="r-programming-basics-ii.html#cb48-2"></a>mysd &lt;-<span class="st"> </span><span class="cf">function</span>(x){</span>
<span id="cb48-3"><a href="r-programming-basics-ii.html#cb48-3"></a>  xmean &lt;-<span class="st"> </span><span class="kw">sum</span>(x)<span class="op">/</span><span class="kw">length</span>(x)</span>
<span id="cb48-4"><a href="r-programming-basics-ii.html#cb48-4"></a>  tmpdif &lt;-<span class="st"> </span>x<span class="op">-</span>xmean</span>
<span id="cb48-5"><a href="r-programming-basics-ii.html#cb48-5"></a>  xvar &lt;-<span class="st"> </span><span class="kw">sum</span>(tmpdif<span class="op">^</span><span class="dv">2</span>)<span class="op">/</span>(<span class="kw">length</span>(x)<span class="op">-</span><span class="dv">1</span>)</span>
<span id="cb48-6"><a href="r-programming-basics-ii.html#cb48-6"></a>  xsd &lt;-<span class="st"> </span><span class="kw">sqrt</span>(xvar)</span>
<span id="cb48-7"><a href="r-programming-basics-ii.html#cb48-7"></a>  <span class="kw">return</span>(xsd)</span>
<span id="cb48-8"><a href="r-programming-basics-ii.html#cb48-8"></a>}</span>
<span id="cb48-9"><a href="r-programming-basics-ii.html#cb48-9"></a></span>
<span id="cb48-10"><a href="r-programming-basics-ii.html#cb48-10"></a>x &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">100</span>, <span class="dv">10</span>)</span>
<span id="cb48-11"><a href="r-programming-basics-ii.html#cb48-11"></a><span class="kw">mysd</span>(x)</span></code></pre></div>
<pre><code>## [1] 26.91468</code></pre>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="r-programming-basics-ii.html#cb50-1"></a><span class="kw">sd</span>(x)</span></code></pre></div>
<pre><code>## [1] 26.91468</code></pre>
</div>
<div id="exercise-3-3-barplot-with-error-bars" class="section level2">
<h2><span class="header-section-number">4.7</span> Exercise 3-3 barplot with error bars</h2>
<p>앞서 그려본 막대그래프에 에러바를 넣어보는 코드 입니다. 먼저 평균과 표준편차 데이터를 apply 함수를 통해 얻어내고 barplot을 수행합니다. 에러바의 경우 arrows 함수를 사용하는데 사용되는 파라메터의 입력되는 값을 바꿔서 그림을 그려보면 그 의미를 파악하는데 도움이 되겠습니다.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="r-programming-basics-ii.html#cb52-1"></a><span class="co">## Exercise 3-3) barplot with sd</span></span>
<span id="cb52-2"><a href="r-programming-basics-ii.html#cb52-2"></a></span>
<span id="cb52-3"><a href="r-programming-basics-ii.html#cb52-3"></a>control_mean &lt;-<span class="st"> </span><span class="kw">apply</span>(myod_control, <span class="dv">2</span>, <span class="cf">function</span>(x){<span class="kw">mean</span>(x)})</span>
<span id="cb52-4"><a href="r-programming-basics-ii.html#cb52-4"></a>control_sd &lt;-<span class="st"> </span><span class="kw">apply</span>(myod_control, <span class="dv">2</span>, mysd)</span>
<span id="cb52-5"><a href="r-programming-basics-ii.html#cb52-5"></a></span>
<span id="cb52-6"><a href="r-programming-basics-ii.html#cb52-6"></a><span class="kw">barplot</span>(control_mean, <span class="dt">width=</span><span class="fl">0.83</span>, <span class="dt">space=</span><span class="fl">0.2</span>, <span class="dt">col=</span><span class="st">&quot;gray&quot;</span>, <span class="dt">ylim=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">1</span>))</span>
<span id="cb52-7"><a href="r-programming-basics-ii.html#cb52-7"></a></span>
<span id="cb52-8"><a href="r-programming-basics-ii.html#cb52-8"></a><span class="kw">arrows</span>(<span class="fl">0.5</span>, control_mean[<span class="dv">1</span>], <span class="fl">0.5</span>, control_mean[<span class="dv">1</span>]<span class="op">+</span>control_sd[<span class="dv">1</span>], <span class="dt">length=</span><span class="fl">0.1</span>, <span class="dt">angle=</span><span class="dv">90</span>)</span>
<span id="cb52-9"><a href="r-programming-basics-ii.html#cb52-9"></a><span class="kw">arrows</span>(<span class="fl">0.5</span>, control_mean[<span class="dv">1</span>], <span class="fl">0.5</span>, control_mean[<span class="dv">1</span>]<span class="op">-</span>control_sd[<span class="dv">1</span>], <span class="dt">length=</span><span class="fl">0.1</span>, <span class="dt">angle=</span><span class="dv">90</span>)</span>
<span id="cb52-10"><a href="r-programming-basics-ii.html#cb52-10"></a>lab &lt;-<span class="st"> </span><span class="kw">paste</span>(<span class="st">&quot;SD:&quot;</span>, <span class="kw">round</span>(control_mean[<span class="dv">1</span>]<span class="op">+</span>control_sd[<span class="dv">1</span>],<span class="dv">1</span>))</span>
<span id="cb52-11"><a href="r-programming-basics-ii.html#cb52-11"></a><span class="kw">text</span>(<span class="fl">0.5</span>, control_mean[<span class="dv">1</span>]<span class="op">+</span>control_sd[<span class="dv">1</span>]<span class="op">+</span><span class="fl">0.05</span>, <span class="dt">labels =</span> lab)</span>
<span id="cb52-12"><a href="r-programming-basics-ii.html#cb52-12"></a></span>
<span id="cb52-13"><a href="r-programming-basics-ii.html#cb52-13"></a><span class="kw">arrows</span>(<span class="fl">1.5</span>, control_mean[<span class="dv">2</span>], <span class="fl">1.5</span>, control_mean[<span class="dv">2</span>]<span class="op">+</span>control_sd[<span class="dv">2</span>], <span class="dt">length=</span><span class="fl">0.1</span>, <span class="dt">angle=</span><span class="dv">90</span>)</span>
<span id="cb52-14"><a href="r-programming-basics-ii.html#cb52-14"></a><span class="kw">arrows</span>(<span class="fl">1.5</span>, control_mean[<span class="dv">2</span>], <span class="fl">1.5</span>, control_mean[<span class="dv">2</span>]<span class="op">-</span>control_sd[<span class="dv">2</span>], <span class="dt">length=</span><span class="fl">0.1</span>, <span class="dt">angle=</span><span class="dv">90</span>)</span>
<span id="cb52-15"><a href="r-programming-basics-ii.html#cb52-15"></a>lab &lt;-<span class="st"> </span><span class="kw">paste</span>(<span class="st">&quot;SD:&quot;</span>, <span class="kw">round</span>(control_mean[<span class="dv">2</span>]<span class="op">+</span>control_sd[<span class="dv">2</span>],<span class="dv">1</span>))</span>
<span id="cb52-16"><a href="r-programming-basics-ii.html#cb52-16"></a><span class="kw">text</span>(<span class="fl">1.5</span>, control_mean[<span class="dv">2</span>]<span class="op">+</span>control_sd[<span class="dv">2</span>]<span class="op">+</span><span class="fl">0.05</span>, <span class="dt">labels =</span> lab)</span></code></pre></div>
<p><img src="Rprog_files/figure-html/unnamed-chunk-37-1.png" width="672" /></p>
<p>그러나 위 12개의 bar 모두에 대해서 arrows 함수를 그리기 보다는 <strong>for 문을 이용한 반복 실행을</strong> 수행하는 것이 효율적 입니다. for 문의 사용 형식과 반복 횟수 그리고 반복하며 변화되는 값을 갖는 변수에 대한 의미를 파악하고 사용하는 것이 중요합니다. for문의 사용법은 <a href="https://github.com/greendaygh/2019-R-programming/blob/master/03-Rprog.pdf">강의노트</a> 를 참고하세요.</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="r-programming-basics-ii.html#cb53-1"></a><span class="co">## Exercise 3-4) barplot with sd using for</span></span>
<span id="cb53-2"><a href="r-programming-basics-ii.html#cb53-2"></a><span class="kw">barplot</span>(control_mean, <span class="dt">width=</span><span class="fl">0.83</span>, <span class="dt">space=</span><span class="fl">0.2</span>, <span class="dt">col=</span><span class="st">&quot;gray&quot;</span>, <span class="dt">ylim=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">1</span>))</span>
<span id="cb53-3"><a href="r-programming-basics-ii.html#cb53-3"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">length</span>(control_mean)){</span>
<span id="cb53-4"><a href="r-programming-basics-ii.html#cb53-4"></a>  xpos &lt;-<span class="st"> </span><span class="fl">0.5</span><span class="op">+</span>i<span class="dv">-1</span></span>
<span id="cb53-5"><a href="r-programming-basics-ii.html#cb53-5"></a>  <span class="kw">arrows</span>(xpos, control_mean[i], xpos, control_mean[i]<span class="op">+</span>control_sd[i], <span class="dt">length=</span><span class="fl">0.1</span>, <span class="dt">angle=</span><span class="dv">90</span>)</span>
<span id="cb53-6"><a href="r-programming-basics-ii.html#cb53-6"></a>  <span class="kw">arrows</span>(xpos, control_mean[i], xpos, control_mean[i]<span class="op">-</span>control_sd[i], <span class="dt">length=</span><span class="fl">0.1</span>, <span class="dt">angle=</span><span class="dv">90</span>)</span>
<span id="cb53-7"><a href="r-programming-basics-ii.html#cb53-7"></a>  lab &lt;-<span class="st"> </span><span class="kw">paste</span>(<span class="st">&quot;SD:&quot;</span>, <span class="kw">round</span>(control_mean[i]<span class="op">+</span>control_sd[i],<span class="dv">1</span>))</span>
<span id="cb53-8"><a href="r-programming-basics-ii.html#cb53-8"></a>  <span class="kw">text</span>(xpos, control_mean[i]<span class="op">+</span>control_sd[i]<span class="op">+</span><span class="fl">0.05</span>, <span class="dt">labels =</span> lab)</span>
<span id="cb53-9"><a href="r-programming-basics-ii.html#cb53-9"></a>}</span></code></pre></div>
<p><img src="Rprog_files/figure-html/unnamed-chunk-38-1.png" width="672" /></p>
<p>마지막으로 실습 예제 3-5는 엑셀파일 이름을 argument로 받아서 파일 내용을 읽고 데이터를 두 그룹으로 나누어 평균을 계산한 후 plot까지 그려주는 함수를 만드는 실습 예제 입니다. 다음 시간에 이어서 합니다.</p>
<hr />
<p><a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/"><img alt="크리에이티브 커먼즈 라이선스" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-nd/4.0/88x31.png" /></a><br />이 저작물은 <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/">크리에이티브 커먼즈 저작자표시-비영리-변경금지 4.0 국제 라이선스</a>에 따라 이용할 수 있습니다.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="r-programming-basics-i.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
